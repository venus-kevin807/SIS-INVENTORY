<!-- header.component.html -->
<header class="header" [ngClass]="{'body-pd': (navService.isExpanded$ | async)}">
  <div class="header_toggle">
    <i class='bx'
       [ngClass]="{'bx-menu': !(navService.isExpanded$ | async), 'bx-x': (navService.isExpanded$ | async)}"
       (click)="navService.toggleSidebar()"></i>
  </div>
  <div class="header_img" (click)="toggleProfileMenu($event)">
    <img src="https://i.imgur.com/hczKIze.jpg" alt="profile">

    <!-- Menú desplegable del perfil -->
    <div class="header_profile-menu" *ngIf="isProfileMenuOpen">
      <div class="profile-header">
        <img src="https://i.imgur.com/hczKIze.jpg" alt="profile" class="profile-pic">
        <div class="profile-info">
          <span class="profile-name">{{ (authService.currentUser$ | async)?.username }}</span>
          <span class="profile-role">
            {{ (authService.currentUser$ | async)?.role === 'admin' ? 'Administrador' : 'Usuario' }}
          </span>        </div>
      </div>
      <div class="profile-menu-items">
        <a class="profile-menu-item">
          <i class='bx bx-user'></i>
          <span>Mi Perfil</span>
        </a>
        <a class="profile-menu-item">
          <i class='bx bx-cog'></i>
          <span>Configuración</span>
        </a>
        <div class="profile-menu-divider"></div>
        <a class="profile-menu-item" (click)="logout()">
          <i class='bx bx-log-out'></i>
          <span>Cerrar Sesión</span>
        </a>
      </div>
    </div>
  </div>
</header>
